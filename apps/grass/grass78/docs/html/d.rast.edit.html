<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>d.rast.edit.py - GRASS GIS manual</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="grassdocs.css" type="text/css">
</head>
<body bgcolor="white">
<div id="container">

<a href="index.html"><img src="grass_logo.png" alt="GRASS logo"></a>
<hr class="header">

<h2>NAME</h2>
<em><b>d.rast.edit.py</b></em>  - Edits cell values in a raster map.
<h2>KEYWORDS</h2>
<a href="display.html">display</a>, <a href="topic_editing.html">editing</a>, <a href="keywords.html#raster">raster</a>
<h2>SYNOPSIS</h2>
<div id="name"><b>d.rast.edit.py</b><br></div>
<b>d.rast.edit.py --help</b><br>
<div id="synopsis"><b>d.rast.edit.py</b> <b>input</b>=<em>name</em> <b>output</b>=<em>name</em>  [<b>aspect</b>=<em>name</em>]   [<b>width</b>=<em>integer</em>]   [<b>height</b>=<em>integer</em>]   [<b>size</b>=<em>integer</em>]   [<b>rows</b>=<em>integer</em>]   [<b>cols</b>=<em>integer</em>]   [--<b>overwrite</b>]  [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>] 
</div>

<div id="flags">
<h3>Flags:</h3>
<dl>
<dt><b>--overwrite</b></dt>
<dd>Allow output files to overwrite existing files</dd>
<dt><b>--help</b></dt>
<dd>Print usage summary</dd>
<dt><b>--verbose</b></dt>
<dd>Verbose module output</dd>
<dt><b>--quiet</b></dt>
<dd>Quiet module output</dd>
<dt><b>--ui</b></dt>
<dd>Force launching GUI dialog</dd>
</dl>
</div>

<div id="parameters">
<h3>Parameters:</h3>
<dl>
<dt><b>input</b>=<em>name</em>&nbsp;<b>[required]</b></dt>
<dd>Name of input raster map</dd>

<dt><b>output</b>=<em>name</em>&nbsp;<b>[required]</b></dt>
<dd>Name for output raster map</dd>

<dt><b>aspect</b>=<em>name</em></dt>
<dd>Name of input aspect raster map</dd>

<dt><b>width</b>=<em>integer</em></dt>
<dd>Width of display canvas</dd>
<dd>Default: <em>640</em></dd>

<dt><b>height</b>=<em>integer</em></dt>
<dd>Height of display canvas</dd>
<dd>Default: <em>480</em></dd>

<dt><b>size</b>=<em>integer</em></dt>
<dd>Minimum size of each cell</dd>
<dd>Default: <em>12</em></dd>

<dt><b>rows</b>=<em>integer</em></dt>
<dd>Maximum number of rows to load</dd>
<dd>Default: <em>100</em></dd>

<dt><b>cols</b>=<em>integer</em></dt>
<dd>Maximum number of columns to load</dd>
<dd>Default: <em>100</em></dd>

</dl>
</div>
<div class="toc">
<h4 class="toc">Table of contents</h4>
<ul class="toc">
    <li class="toc"><a href="#description" class="toc">DESCRIPTION</a>
    <ul class="toc">
        <li class="toc"><a href="#overview-window" class="toc">Overview window</a></li>
        <li class="toc"><a href="#raster-cell-editing" class="toc">Raster cell editing</a></li>
        <li class="toc"><a href="#saving-the-edited-map" class="toc">Saving the edited map</a></li>
        <li class="toc"><a href="#map-pan-with-arrow-keys" class="toc">Map pan with arrow keys</a></li>
    </ul></li>
    <li class="toc"><a href="#notes" class="toc">NOTES</a>
    <ul class="toc">
        <li class="toc"><a href="#geographic-region-concerns" class="toc">Geographic Region Concerns</a></li>
    </ul></li>
    <li class="toc"><a href="#example" class="toc">EXAMPLE</a></li>
    <li class="toc"><a href="#todo" class="toc">TODO</a></li>
    <li class="toc"><a href="#see-also" class="toc">SEE ALSO</a></li>
    <li class="toc"><a href="#author" class="toc">AUTHOR</a></li>
</ul>
</div>
<h2><a name="description">DESCRIPTION</a></h2>

The <em>d.rast.edit</em> program allows users to interactively
edit cell category values in a raster map layer displayed to the
graphics monitor using a mouse cursor.

<h3><a name="overview-window">Overview window</a></h3>

An overview window shows the entire map with a red box showing the current
editing region. The edit window shows the cells within the selected area.
Click on a new spot on the overview window to move the editing area.

<h3><a name="raster-cell-editing">Raster cell editing</a></h3>

Cell editing is done using the mouse cursor to indicate the cell(s) on
the displayed raster map that are to be edited.
<p>
To change the value of a cell put the new value to use in the "New value"
box at the bottom left of the edit window. A value of "*" indicates a
NULL value should be used.
<p>
<b>Important:</b> the new value in the "New value" box must be confirmed
with ENTER, otherwise it is not yet active.

<h3><a name="saving-the-edited-map">Saving the edited map</a></h3>

To save the edited map, the "File" menu contains the entry <b>Save</b>.
To leave <em>d.rast.edit</em>, use <b>Exit</b> in the menu.


<h3><a name="map-pan-with-arrow-keys">Map pan with arrow keys</a></h3>

The map can be shifted using the arrow keys on the keyboard.

<!-- currently broken, see #
<h3><a name="arrows">Arrows</a></h3>

This function is available for users editing aspect maps.  The
<em><a href="d.rast.arrow.html">d.rast.arrow</a></em> program is
called, which draws arrows over the displayed
cells to indicate the downslope direction of the cell.
You can set the aspect map to use on the command line.
Aspect maps are expected to be in regular "GRASS" format, as produced by
<em><a href="r.slope.aspect.html">r.slope.aspect</a></em>; i.e. degrees
counter-clockwise from east.
-->

<h2><a name="notes">NOTES</a></h2>

There is no "undo" command nor way to exit edit mode without saving
changes to the output map.
<p>
<!-- MASK behaviour to be verified -->
Any MASK in place will be respected when writing the new raster map layer,
including any edits to the MASKed areas.

<h3><a name="geographic-region-concerns">Geographic Region Concerns</a></h3>

<!-- region behaviour to be verified -->
<em>d.rast.edit</em> reads the region definition for the raster map layer
being edited from its internal cell header file. The new, edited copy of
the raster layer will be created with the same resolution and region
dimensions.
<p>The primary bane of the <em>d.rast.edit</em> program involves large map
layers with lots of rows and columns) and/or slow computers,
since the program must read and write raster map layers row by row for
the full size of the map layer as dictated by its region size and resolution.
(The current region settings of north, south, east, and west
will not limit the size of the edited copy of the map layer,
since by use of the overview selection these values may change several
times during the editing session).

<h2><a name="example">EXAMPLE</a></h2>

Editing raster values in a LiDAR DEM, North Carolina sample data:

<div class="code"><pre>
g.region raster=elev_lid792_1m -p

# pan to area of interest and edit raster cells (I used "102" as value to modifiy cells
# Use:  File > Save to save
# then: File > Exit
d.rast.edit input=elev_lid792_1m output=elev_lid792_1m_modified

# comparison of raster statistics
# original stats, note the min value
r.univar -g elev_lid792_1m

# modified map stats, note the min value
r.univar -g elev_lid792_1m_modified
</pre></div>

<div align="center" style="margin: 10px">
<a href="d_rast_edit.png">
<img src="d_rast_edit.png" width="600" height="281" alt="d.rast.edit example" border="0">
</a><br>
<i>Figure: Editing of pixels in an elevation raster map using d.rast.edit</i>
</div>

<h2><a name="todo">TODO</a></h2>

<em>d.rast.edit</em> should not create a new raster map layer if
the user makes no cell edits while running the program and leaving it
without saving.
<p>

It would be nice to incorporate a scrollable version of <em>
<a href="d.legend.html">d.legend</a>
</em>
(such that one could see a label legend for files with many categories on
a standard size sub-frame).  It would be even nicer to be able
to select the category values from a graphical legend when editing
cell values (thereby saving a trip to the text frame to type in the
new value).

<p>Perhaps method(s) for multiple  or mass cell edits would be useful.
This could be done by providing modes in which the user may:
<ol>
<li> edit a block of cells to a given value by drawing a box;</li>
<li> be able to choose a given value which is automatically used as
the new value on each cell chosen until a different value is desired.</li>
</ol>

<p>There is no user-interrupt handling. This could leave files in .tmp
or (rarely) result in half-baked raster maps.  The original file
would survive unscathed by an interrupt at most any point in execution.
Beware of exiting the program
by means other than using <em>exit</em> on the <em>Main Menu</em>.


<h2><a name="see-also">SEE ALSO</a></h2>

<em>
<a href="d.rast.arrow.html">d.rast.arrow</a>,
<a href="d.rast.num.html">d.rast.num</a>, 
<a href="wxGUI.rdigit.html">wxGUI.rdigit</a>
</em>

<h2><a name="author">AUTHOR</a></h2>

Tcl/Tk (2007) and wxPython versions (2008): Glynn Clements<br>
<br>
Replaces Xdriver version in C by Chris Rewerts, April 1991,
Agricultural Engineering, Purdue University

<!--
<p>
<i>Last changed: $Date$</i>
--><h2>SOURCE CODE</h2>
<p>Available at: <a href="https://github.com/OSGeo/grass/tree/master/scripts/d.rast.edit">d.rast.edit source code</a> (<a href="https://github.com/OSGeo/grass/commits/master/scripts/d.rast.edit">history</a>)</p>
<hr class="header">
<p>
<a href="index.html">Main index</a> |
<a href="display.html">Display index</a> |
<a href="topics.html">Topics index</a> |
<a href="keywords.html">Keywords index</a> |
<a href="graphical_index.html">Graphical index</a> |
<a href="full_index.html">Full index</a>
</p>
<p>
&copy; 2003-2020
<a href="http://grass.osgeo.org">GRASS Development Team</a>,
GRASS GIS 7.8.5 Reference Manual
</p>

</div>
</body>
</html>
